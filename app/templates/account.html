{% extends "base.html" %}
{% block content %}
    <div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <div class="col-md-3 col-xl-2 bd-sidebar">
            <h1>{{ current_user.username }}</h1>
        </div>
        <div class="col">
            <div class="container">
                <div class="row">
                    <div class="col">
                        <h3 style="display:inline;">Instruments</h3>
                        <p><a href="/setInstruments">Edit</a></p>
                    </div>
                    <div class="col">
                        <h4 style="display:inline;">Goals</h4>
                        <p><a href="/defaultGoals">Edit</a></p>
                    </div>
                </div>
                {% for instrument in current_user.instruments %}
                    <div class="row">
                        <div class="col">
                            {{ instrument.label }}
                        </div>
                        <div class="col">
                            {{ instrument.defaultGoalInMinutes//60 }}:{{ instrument.defaultGoalInMinutes%60 }}
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
    </div>
{% endblock %}
        function removeInst() {
            {% form.instruments.remove(newInstrument) %}
            document.removeChild(document.getElementById("instTime{{ loop.index0 }}"))
            document.removeChild(document.getElementById("instLabel{{ loop.index0 }}"))
            document.removeChild(document.getElementById("instRemove{{ loop.index0 }}"))
        }
    </script>
    <div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <div class="col-md-3 col-xl-2 bd-sidebar">
            <h1>{{ current_user.username }}</h1>
        </div>
        <div class="col">
            <div class="container">
                <div class="row row-cols-3" id="instruments">
                    <div class="col">Instrument Name</div>
                    <div class="col">Default Goal (HH:MM)</div>
                    <div class="w-100"></div>
                    {% for instrument in form.instruments %}
                        <div class="col" id="instLabel{{ loop.index0 }}">
                            {{ instrument.label(value=current_user.instruments[loop.index0].label) }}
                        </div>
                        <div class="col" id="instTime{{ loop.index0 }}">
                            {{ instrument.defaultGoalHour(value=current_user.instruments[loop.index0].defaultGoalInMinutes//60) }}
                            {{ instrument.defaultGoalMin(value=current_user.instruments[loop.index0].defaultGoalInMinutes%60) }}
                        </div>
                        <div class="col">
                            <button type="button" id= id="instRemove{{ loop.index0 }}" onclick="removeInst()">
                                Remove
                            </button>
                        </div>
                    {% endfor %}
                </div>
            </div>
            <button type="button" onclick="addInstrument()">Add Instrument</button>
        </div>
    </div>
{% endblock %}